import ContextMenu, { MenuItem } from '@imengyu/vue3-context-menu'
import EventBus from '../../event-bus'
import { h } from 'vue'

const symbols = {
  spcial1: {
    label: '特殊字符 ☆',
    data: [
      '△',
      '▽',
      '○',
      '◇',
      '□',
      '☆',
      '▷',
      '◁',
      '♤',
      '♡',
      '♢',
      '♧',
      '▲',
      '▼',
      '●',
      '◆',
      '■',
      '★',
      '▶',
      '◀',
      '♠',
      '♥',
      '♦',
      '♣',
      '☼',
      '☽',
      '♀',
      '☺',
      '◐',
      '☑',
      '√',
      '✔',
      '☜',
      '☝',
      '☞',
      '㏂',
      '☀',
      '☾',
      '♂',
      '☹',
      '◑',
      '☒',
      '×',
      '✘',
      '☚',
      '☟',
      '☛',
      '㏘',
      '▪',
      '•',
      '‥',
      '…',
      '▁',
      '▂',
      '▃',
      '▄',
      '▅',
      '▆',
      '▇',
      '█',
      '∷',
      '※',
      '░',
      '▒',
      '▓',
      '▏',
      '▎',
      '▍',
      '▌',
      '▋',
      '▊',
      '▉'
    ]
  },
  spcial2: {
    label: '特殊字符 ◎',
    data: [
      '♩',
      '♪',
      '♫',
      '♬',
      '§',
      '〼',
      '◎',
      '¤',
      '۞',
      '℗',
      '®',
      '©',
      '♭',
      '♯',
      '♮',
      '‖',
      '¶',
      '卍',
      '卐',
      '▬',
      '〓',
      '℡',
      '™',
      '㏇',
      '☌',
      '☍',
      '☋',
      '☊',
      '㉿',
      '◮',
      '◪',
      '◔',
      '◕',
      '@',
      '㈱',
      '№'
    ]
  },
  spcial3: {
    label: '特殊字符 ◤',
    data: [
      '↖',
      '↑',
      '↗',
      '▨',
      '▤',
      '▧',
      '◤',
      '㊤',
      '◥',
      '☴',
      '☲',
      '☷',
      '←',
      '㊣',
      '→',
      '▩',
      '▦',
      '▥',
      '㊧',
      '㊥',
      '㊨',
      '☳',
      '☯',
      '☱',
      '↙',
      '↓',
      '↘',
      '▫',
      '◈',
      '▣',
      '◣',
      '㊦',
      '◢',
      '☶',
      '☵',
      '☰',
      '↕',
      '↔',
      '⊱',
      '⋛',
      '⋌',
      '⋚',
      '⊰',
      '¬',
      '￢',
      '▔',
      '†',
      '‡'
    ]
  },
  spcial4: {
    label: '特殊字符 ❉',
    data: [
      '*',
      '＊',
      '✲',
      '❈',
      '❉',
      '✿',
      '❀',
      '❃',
      '❁',
      '☸',
      '✖',
      '✚',
      '✪',
      '❤',
      'ღ',
      '❦',
      '❧',
      'ி',
      '₪',
      '✍',
      '✌',
      '✁',
      '✄',
      '☁',
      '☂',
      '☃',
      '☄',
      '♨',
      '☇',
      '☈',
      '☡',
      '➷',
      '⊹',
      '✉',
      '☏',
      '☢',
      '☣',
      '☠',
      '☮',
      '〄',
      '➹',
      '☩',
      'ஐ',
      '☎',
      '✈',
      '〠',
      '۩',
      '✙',
      '✟',
      '☤',
      '☥',
      '☦',
      '☧',
      '☨',
      '☫',
      '☬',
      '♟',
      '♙',
      '♜',
      '♖',
      '♞',
      '♘',
      '♝',
      '♗',
      '♛',
      '♕',
      '♚',
      '♔'
    ]
  },
  number1: {
    label: '数字序号 ①',
    data: [
      '①',
      '②',
      '③',
      '④',
      '⑤',
      '⑥',
      '⑦',
      '⑧',
      '⑨',
      '⑩',
      '⑪',
      '⑫',
      '⑬',
      '⑭',
      '⑮',
      '⑯',
      '⑰',
      '⑱',
      '⑲',
      '⑳'
    ]
  },
  number2: {
    label: '数字序号 ⑴',
    data: [
      '⑴',
      '⑵',
      '⑶',
      '⑷',
      '⑸',
      '⑹',
      '⑺',
      '⑻',
      '⑼',
      '⑽',
      '⑾',
      '⑿',
      '⒀',
      '⒁',
      '⒂',
      '⒃',
      '⒄',
      '⒅',
      '⒆',
      '⒇'
    ]
  },
  number3: {
    label: '数字序号 ⒈',
    data: [
      '⒈',
      '⒉',
      '⒊',
      '⒋',
      '⒌',
      '⒍',
      '⒎',
      '⒏',
      '⒐',
      '⒑',
      '⒒',
      '⒓',
      '⒀',
      '⒁',
      '⒂',
      '⒃',
      '⒄',
      '⒅',
      '⒆',
      '⒇'
    ]
  },
  number4: {
    label: '数字序号 Ⅰ',
    data: [
      'Ⅰ',
      'Ⅱ',
      'Ⅲ',
      'Ⅳ',
      'Ⅴ',
      'Ⅵ',
      'Ⅶ',
      'Ⅷ',
      'Ⅸ',
      'Ⅹ',
      'Ⅺ',
      'Ⅻ',
      'ⅰ',
      'ⅱ',
      'ⅲ',
      'ⅳ',
      'ⅴ',
      'ⅵ',
      'ⅶ',
      'ⅷ',
      'ⅸ',
      'ⅹ'
    ]
  },
  number5: {
    label: '数字序号 ❶㈠',
    data: [
      '❶',
      '❷',
      '❸',
      '❹',
      '❺',
      '❻',
      '❼',
      '❽',
      '❾',
      '❿',
      '㈠',
      '㈡',
      '㈢',
      '㈣',
      '㈤',
      '㈥',
      '㈦',
      '㈧',
      '㈨',
      '㈩'
    ]
  },
  math1: {
    label: '数学运算 ㏒',
    data: [
      '﹢',
      '﹣',
      '·',
      '/',
      '=',
      '﹤',
      '﹥',
      '≦',
      '≧',
      '≮',
      '≯',
      '≡',
      '＋',
      '－',
      '×',
      '÷',
      '＝',
      '＜',
      '＞',
      '≤',
      '≥',
      '≈',
      '≒',
      '≠',
      '﹢',
      '﹣',
      '±',
      '∶',
      '∵',
      '∴',
      '∷',
      '㏒',
      '㏑',
      '∑',
      '∏',
      '∅'
    ]
  },
  math2: {
    label: '数学符号 ∰',
    data: [
      '∝',
      '∽',
      '∈',
      '∩',
      '∧',
      '⊙',
      '⌒',
      '∥',
      '∟',
      '∣',
      '∂',
      '∆',
      '∞',
      '≌',
      '∉',
      '∪',
      '∨',
      '⊕',
      '⊿',
      '⊥',
      '∠',
      '∫',
      '∬',
      '∭',
      '%',
      '‰',
      '％',
      'º',
      '¹',
      '²',
      '³',
      'ⁿ',
      '℅',
      '∮',
      '∯',
      '∰',
      '₁',
      '₂',
      '₃',
      '½',
      '⅓',
      '⅔',
      '¼',
      '¾',
      '°',
      '℃',
      '℉',
      '〒'
    ]
  },
  math3: {
    label: '数学单位 ￡',
    data: [
      '㎎',
      '㎏',
      'μm',
      '㎜',
      '㎝',
      '㎞',
      '′',
      '¥',
      '$',
      '€',
      '฿',
      '￡',
      '㎡',
      'm',
      '³',
      '㏄',
      'm',
      'l',
      'm',
      'o',
      'l',
      '㏕',
      '″',
      '￥',
      '£',
      '￠',
      '₠'
    ]
  },
  greece: {
    label: '希腊字母 Ω',
    data: [
      'Α',
      'Β',
      'Γ',
      'Δ',
      'Ε',
      'Ζ',
      'Η',
      'Θ',
      'Ι',
      'Κ',
      'Λ',
      'Μ',
      'Ν',
      'Ξ',
      'Ο',
      'Π',
      'Ρ',
      'Σ',
      'Τ',
      'Υ',
      'Φ',
      'Χ',
      'Ψ',
      'Ω'
    ]
  },
  greeceLow: {
    label: '希腊字母 ω',
    data: [
      'α',
      'β',
      'γ',
      'δ',
      'ε',
      'ζ',
      'η',
      'θ',
      'ι',
      'κ',
      'λ',
      'μ',
      'ν',
      'ξ',
      'ο',
      'π',
      'ρ',
      'σ',
      'τ',
      'υ',
      'φ',
      'χ',
      'ψ',
      'ω'
    ]
  },
  latin: {
    label: '拉丁字母 Œ',
    data: [
      'À',
      'Á',
      'Â',
      'Ã',
      'Ä',
      'Å',
      'Æ',
      'Ç',
      'È',
      'É',
      'Ê',
      'Ë',
      'Ì',
      'Í',
      'Î',
      'Ï',
      'Ð',
      'Ñ',
      'Ò',
      'Ó',
      'Ô',
      'Õ',
      'Ö',
      'Ø',
      'Ù',
      'Ú',
      'Û',
      'Ü',
      'Ý',
      'Þ',
      'Š',
      'Ÿ',
      'Œ'
    ]
  },
  latinLow: {
    label: '拉丁字母 œ',
    data: [
      'à',
      'á',
      'â',
      'ã',
      'ä',
      'å',
      'æ',
      'ç',
      'è',
      'é',
      'ê',
      'ë',
      'ì',
      'í',
      'î',
      'ï',
      'ð',
      'ñ',
      'ò',
      'ó',
      'õ',
      'ô',
      'ö',
      'ø',
      'ù',
      'ú',
      'û',
      'ü',
      'ý',
      'þ',
      'š',
      'ÿ',
      'œ'
    ]
  },
  chinesePhonetic: {
    label: '中文注音',
    data: [
      'ㄚ(a)',
      'ㄛ(o)',
      'ㄜ(e)',
      'ㄧ(i)',
      'ㄨ(u)',
      'ㄩ(ü)',
      'ㄝ(ê)',
      'ㄞ(ai)',
      'ㄟ(ei)',
      'ㄠ(ao)',
      'ㄡ(ou)',
      'ㄢ(an)',
      'ㄣ(en)',
      'ㄤ(ang)',
      'ㄥ(eng)',
      'ㄦ(er)',
      'ㄅ(b)',
      'ㄆ(p)',
      'ㄇ(m)',
      'ㄈ(f)',
      'ㄉ(d)',
      'ㄊ(t)',
      'ㄋ(n)',
      'ㄌ(l)',
      'ㄍ(g)',
      'ㄎ(k)',
      'ㄏ(h)',
      'ㄐ(j)',
      'ㄑ(q)',
      'ㄒ(x)',
      'ㄓ(zh)',
      'ㄔ(ch)',
      'ㄕ(sh)',
      'ㄖ(r)',
      'ㄗ(z)',
      'ㄘ(c)',
      'ㄙ(s)'
    ]
  },
  chineseUnit: {
    label: '中文单位',
    data: [
      '零',
      '壹',
      '贰',
      '叁',
      '肆',
      '伍',
      '陆',
      '柒',
      '捌',
      '玖',
      '拾',
      '佰',
      '仟',
      '万',
      '亿',
      '兆',
      '吉',
      '太',
      '拍',
      '艾',
      '分',
      '厘',
      '毫',
      '微'
    ]
  },
  chineseCharacters: {
    label: '中文字符',
    data: [
      '玊',
      '嘂',
      '槑',
      '朤',
      '囍',
      '嬲',
      '嫐',
      '靐',
      '龘',
      '鑫',
      '淼',
      '焱',
      '嘦',
      '巭',
      '勥',
      '氼',
      '嫑',
      '炛',
      '恏',
      '兲',
      '奣',
      '烎',
      '忈',
      '龑'
    ]
  },
  remoteRadical: {
    label: '偏僻部首',
    data: [
      '丶',
      '冫',
      '氵',
      '灬',
      '阝',
      '卩',
      '刂',
      '忄',
      '讠',
      '扌',
      '亻',
      '彳',
      '厃',
      '⺁',
      '𠘨',
      '⺆',
      '⺄',
      '广',
      '疒',
      '饣',
      '钅',
      '礻',
      '衤',
      '辶',
      '牜',
      '釒',
      '飠',
      '⺪',
      '⻊',
      '糹',
      '⺝',
      '丩',
      '丬',
      '犭',
      '纟',
      '廴',
      '攵',
      '夊',
      '皿',
      '臼',
      '虍',
      '勹',
      '尢',
      '廾',
      '歺',
      '夬',
      '氺',
      '丂',
      '爫',
      '癶',
      '耂',
      '⺻',
      '⺮',
      '⺳',
      '⺶',
      '⺷',
      '⺈',
      '龵',
      '彐',
      '⺋',
      '罒',
      '覀',
      '⻗',
      '亠',
      '宀',
      '冖',
      '艹',
      '⺌',
      '丷',
      '⺧',
      '亇',
      '彡'
    ]
  },
  tabls1: {
    label: '制表符 ╬',
    data: [
      '┌',
      '┬',
      '┐',
      '┏',
      '┳',
      '┓',
      '╔',
      '╦',
      '╗',
      '╭',
      '─',
      '╮',
      '├',
      '┼',
      '┤',
      '┣',
      '╋',
      '┫',
      '╠',
      '╬',
      '╣',
      '│',
      '╳',
      '┃',
      '└',
      '┴',
      '┘',
      '┗',
      '┻',
      '┛',
      '╚',
      '╩',
      '╝',
      '╰',
      '━',
      '╯'
    ]
  },
  tabls2: {
    label: '制表符 ┆',
    data: [
      '┍',
      '┑',
      '┎',
      '┒',
      '╒',
      '╕',
      '╓',
      '╖',
      '╱',
      '╲',
      '┄',
      '┅',
      '┕',
      '┙',
      '┖',
      '┚',
      '╘',
      '╛',
      '╙',
      '╜',
      '╲',
      '╱',
      '┆',
      '┇'
    ]
  },
  tabls3: {
    label: '制表符 ╫',
    data: [
      '┝',
      '┞',
      '┟',
      '┠',
      '┡',
      '┢',
      '═',
      '╞',
      '╟',
      '╡',
      '╢',
      '╪',
      '┭',
      '┮',
      '┯',
      '┰',
      '┱',
      '┲',
      '║',
      '╤',
      '╥',
      '╧',
      '╨',
      '╫',
      '┥',
      '┦',
      '┧',
      '┨',
      '┩',
      '┪',
      '┽',
      '┾',
      '┿',
      '╀',
      '╁',
      '╂',
      '┵',
      '┶',
      '┷',
      '┸',
      '┹',
      '┺',
      '╄',
      '╅',
      '╆',
      '╇',
      '╈',
      '╉',
      '┈',
      '┉',
      '┊',
      '┋',
      '╃',
      '╊'
    ]
  }
}

const symbolMenuStyle = {
  width: '750px',
  fontSize: '12pt',
  display: 'flex',
  flexDirection: 'row',
  flexWrap: 'wrap',
  alignItems: 'center'
}

const symbolTabMenuStyle = {
  width: '370px',
  fontSize: '12pt',
  display: 'flex',
  flexDirection: 'row',
  flexWrap: 'wrap',
  alignItems: 'center'
}

const symbolNumberMenuStyle = {
  width: '800px',
  fontSize: '12pt',
  display: 'flex',
  flexDirection: 'row',
  flexWrap: 'wrap',
  alignItems: 'center'
}

const symbolButtonStyle = {
  border: 'none',
  backgroundColor: 'transparent',
  fontSize: '15pt',
  width: '30px',
  height: '30px'
}

const phoneticButtonStyle = {
  border: 'none',
  backgroundColor: 'transparent',
  fontSize: '15pt',
  width: '40px',
  height: '30px'
}

// 创建一个函数来生成表情按钮的列表
function createSymbolButtons(
  symbol: string,
  emojiStyle: Record<string, string>,
  buttonStyle: Record<string, string>
) {
  return h(
    'div',
    { style: emojiStyle },
    symbols[symbol].data.map((text: string) => {
      if (symbol === 'chinesePhonetic') {
        return h(
          'button',
          {
            style: phoneticButtonStyle,
            title: text.substring(2, text.length - 1),
            onClick: () => {
              EventBus.$emit('monaco-editor-insert-text', text[0])
            }
          },
          text[0]
        )
      }
      return h(
        'button',
        {
          style: symbol === 'chinesePhonetic' ? phoneticButtonStyle : buttonStyle,
          onClick: () => {
            EventBus.$emit(
              'monaco-editor-insert-text',
              symbol === 'chinesePhonetic' ? text[0] : text
            )
          }
        },
        text
      )
    })
  )
}

const symbolContextMenus = Object.keys(symbols).map((symbol) => {
  let menuStyle = symbolMenuStyle
  if (symbol === 'spcial3' || symbol === 'tabls1' || symbol === 'tabls2' || symbol === 'tabls3') {
    menuStyle = symbolTabMenuStyle
  }

  if (symbol.startsWith('number') || symbol === 'chinesePhonetic') {
    menuStyle = symbolNumberMenuStyle
  }

  return {
    label: symbols[symbol].label, // 根据类别设置标签
    direction: 'br',
    children: [
      {
        label: createSymbolButtons(symbol, menuStyle, symbolButtonStyle)
      }
    ]
  }
})

export function handleSymbolContextMenu(e: MouseEvent) {
  ContextMenu.showContextMenu({
    x: e.x,
    y: e.y + 10,
    items: symbolContextMenus as MenuItem[]
  })
}

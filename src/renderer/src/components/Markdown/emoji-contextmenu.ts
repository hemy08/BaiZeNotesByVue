import ContextMenu, { MenuItem } from '@imengyu/vue3-context-menu'
import EventBus from '../../event-bus'
import { h } from 'vue'

const emojis = {
  expression: [
    '🌹',
    '🍀',
    '🍎',
    '💰',
    '📱',
    '🌙',
    '🍁',
    '🍂',
    '🍃',
    '🌷',
    '💎',
    '🔪',
    '🔫',
    '🏀',
    '⚽',
    '⚡',
    '👄',
    '👍',
    '🔥',
    '😀',
    '😁',
    '😂',
    '😃',
    '😄',
    '😅',
    '😆',
    '😉',
    '😊',
    '😋',
    '😎',
    '😍',
    '😘',
    '😗',
    '😙',
    '😚',
    '☺',
    '😇',
    '😐',
    '😑',
    '😶',
    '😏',
    '😣',
    '😥',
    '😮',
    '😯',
    '😪',
    '😫',
    '😴',
    '😌',
    '😛',
    '😜',
    '😝',
    '😒',
    '😓',
    '😔',
    '😕',
    '😲',
    '😷',
    '😖',
    '😞',
    '😟',
    '😤',
    '😢',
    '😭',
    '😦',
    '😧',
    '😨',
    '😬',
    '😰',
    '😱',
    '😳',
    '😵',
    '😡',
    '😠'
  ],
  people: [
    '👦',
    '👧',
    '👨',
    '👩',
    '👴',
    '👵',
    '👶',
    '👱',
    '👮',
    '👲',
    '👳',
    '👷',
    '👸',
    '💂',
    '🎅',
    '👰',
    '👼',
    '💆',
    '💇',
    '🙍',
    '🙎',
    '🙅',
    '🙆',
    '💁',
    '🙋',
    '🙇',
    '🙌',
    '🙏',
    '👤',
    '👥',
    '🚶',
    '🏃',
    '👯',
    '💃',
    '👫',
    '👬',
    '👭',
    '💏',
    '💑',
    '👪'
  ],
  gesture: [
    '💪',
    '👈',
    '👉',
    '☝',
    '👆',
    '👇',
    '✌',
    '✋',
    '👌',
    '👍',
    '👎',
    '✊',
    '👊',
    '👋',
    '👏',
    '👐',
    '✍'
  ],
  daily: [
    '👣',
    '👀',
    '👂',
    '👃',
    '👅',
    '👄',
    '💋',
    '👓',
    '👔',
    '👕',
    '👖',
    '👗',
    '👘',
    '👙',
    '👚',
    '👛',
    '👜',
    '👝',
    '🎒',
    '💼',
    '👞',
    '👟',
    '👠',
    '👡',
    '👢',
    '👑',
    '👒',
    '🎩',
    '🎓',
    '💄',
    '💅',
    '💍',
    '🌂'
  ],
  phone: ['📱', '📲', '📶', '📳', '📴', '☎', '📞', '📟', '📠'],
  common: [
    '♻',
    '🏧',
    '🚮',
    '🚰',
    '♿',
    '🚹',
    '🚺',
    '🚻',
    '🚼',
    '🚾',
    '⚠',
    '🚸',
    '⛔',
    '🚫',
    '🚳',
    '🚭',
    '🚯',
    '🚱',
    '🚷',
    '🔞',
    '💈'
  ],
  animal: [
    '🙈',
    '🙉',
    '🙊',
    '🐵',
    '🐒',
    '🐶',
    '🐕',
    '🐩',
    '🐺',
    '🐱',
    '😺',
    '😸',
    '😹',
    '😻',
    '😼',
    '😽',
    '🙀',
    '😿',
    '😾',
    '🐈',
    '🐯',
    '🐅',
    '🐆',
    '🐴',
    '🐎',
    '🐮',
    '🐂',
    '🐃',
    '🐄',
    '🐷',
    '🐖',
    '🐗',
    '🐽',
    '🐏',
    '🐑',
    '🐐',
    '🐪',
    '🐫',
    '🐘',
    '🐭',
    '🐁',
    '🐀',
    '🐹',
    '🐰',
    '🐇',
    '🐻',
    '🐨',
    '🐼',
    '🐾',
    '🐔',
    '🐓',
    '🐣',
    '🐤',
    '🐥',
    '🐦',
    '🐧',
    '🐸',
    '🐊',
    '🐢',
    '🐍',
    '🐲',
    '🐉',
    '🐳',
    '🐋',
    '🐬',
    '🐟',
    '🐠',
    '🐡',
    '🐙',
    '🐚',
    '🐌',
    '🐛',
    '🐜',
    '🐝',
    '🐞',
    '🦋'
  ],
  plant: [
    '💐',
    '🌸',
    '💮',
    '🌹',
    '🌺',
    '🌻',
    '🌼',
    '🌷',
    '🌱',
    '🌲',
    '🌳',
    '🌴',
    '🌵',
    '🌾',
    '🌿',
    '🍀',
    '🍁',
    '🍂',
    '🍃'
  ],
  nature: [
    '🌍',
    '🌎',
    '🌏',
    '🌐',
    '🌑',
    '🌒',
    '🌓',
    '🌔',
    '🌕',
    '🌖',
    '🌗',
    '🌘',
    '🌙',
    '🌚',
    '🌛',
    '🌜',
    '☀',
    '🌝',
    '🌞',
    '⭐',
    '🌟',
    '🌠',
    '☁',
    '⛅',
    '☔',
    '⚡',
    '❄',
    '🔥',
    '💧',
    '🌊'
  ],
  food: [
    '🍇',
    '🍈',
    '🍉',
    '🍊',
    '🍋',
    '🍌',
    '🍍',
    '🍎',
    '🍏',
    '🍐',
    '🍑',
    '🍒',
    '🍓',
    '🍅',
    '🍆',
    '🌽',
    '🍄',
    '🌰',
    '🍞',
    '🍖',
    '🍗',
    '🍔',
    '🍟',
    '🍕',
    '🍳',
    '🍲',
    '🍱',
    '🍘',
    '🍙',
    '🍚',
    '🍛',
    '🍜',
    '🍝',
    '🍠',
    '🍢',
    '🍣',
    '🍤',
    '🍥',
    '🍡',
    '🍦',
    '🍧',
    '🍨',
    '🍩',
    '🍪',
    '🎂',
    '🍰',
    '🍫',
    '🍬',
    '🍭',
    '🍮',
    '🍯',
    '🍼',
    '☕',
    '🍵',
    '🍶',
    '🍷',
    '🍸',
    '🍹',
    '🍺',
    '🍻',
    '🍴'
  ],
  stylistics: [
    '🎪',
    '🎭',
    '🎨',
    '🎰',
    '🚣',
    '🛀',
    '🎫',
    '🏆',
    '⚽',
    '⚾',
    '🏀',
    '🏈',
    '🏉',
    '🎾',
    '🎱',
    '🎳',
    '⛳',
    '🎣',
    '🎽',
    '🎿',
    '🏂',
    '🏄',
    '🏇',
    '🏊',
    '🚴',
    '🚵',
    '🎯',
    '🎮',
    '🎲',
    '🎷',
    '🎸',
    '🎺',
    '🎻',
    '🎬'
  ],
  terror: ['😈', '👿', '👹', '👺', '💀', '☠', '👻', '👽', '👾', '💣'],
  travel: [
    '🌋',
    '🗻',
    '🏠',
    '🏡',
    '🏢',
    '🏣',
    '🏤',
    '🏥',
    '🏦',
    '🏨',
    '🏩',
    '🏪',
    '🏫',
    '🏬',
    '🏭',
    '🏯',
    '🏰',
    '💒',
    '🗼',
    '🗽',
    '⛪',
    '⛲',
    '🌁',
    '🌃',
    '🌆',
    '🌇',
    '🌉',
    '🌌',
    '🎠',
    '🎡',
    '🎢',
    '🚂',
    '🚃',
    '🚄',
    '🚅',
    '🚆',
    '🚇',
    '🚈',
    '🚉',
    '🚊',
    '🚝',
    '🚞',
    '🚋',
    '🚌',
    '🚍',
    '🚎',
    '🚏',
    '🚐',
    '🚑',
    '🚒',
    '🚓',
    '🚔',
    '🚕',
    '🚖',
    '🚗',
    '🚘',
    '🚚',
    '🚛',
    '🚜',
    '🚲',
    '⛽',
    '🚨',
    '🚥',
    '🚦',
    '🚧',
    '⚓',
    '⛵',
    '🚤',
    '🚢',
    '✈',
    '💺',
    '🚁',
    '🚟',
    '🚠',
    '🚡',
    '🚀',
    '🎑',
    '🗿',
    '🛂',
    '🛃',
    '🛄',
    '🛅'
  ],
  goods: [
    '💌',
    '💎',
    '🔪',
    '💈',
    '🚪',
    '🚽',
    '🚿',
    '🛁',
    '⌛',
    '⏳',
    '⌚',
    '⏰',
    '🎈',
    '🎉',
    '🎊',
    '🎎',
    '🎏',
    '🎐',
    '🎀',
    '🎁',
    '📯',
    '📻',
    '📱',
    '📲',
    '☎',
    '📞',
    '📟',
    '📠',
    '🔋',
    '🔌',
    '💻',
    '💽',
    '💾',
    '💿',
    '📀',
    '🎥',
    '📺',
    '📷',
    '📹',
    '📼',
    '🔍',
    '🔎',
    '🔬',
    '🔭',
    '📡',
    '💡',
    '🔦',
    '🏮',
    '📔',
    '📕',
    '📖',
    '📗',
    '📘',
    '📙',
    '📚',
    '📓',
    '📃',
    '📜',
    '📄',
    '📰',
    '📑',
    '🔖',
    '💰',
    '💴',
    '💵',
    '💶',
    '💷',
    '💸',
    '💳',
    '✉',
    '📧',
    '📨',
    '📩',
    '📤',
    '📥',
    '📦',
    '📫',
    '📪',
    '📬',
    '📭',
    '📮',
    '✏',
    '✒',
    '📝',
    '📁',
    '📂',
    '📅',
    '📆',
    '📇',
    '📈',
    '📉',
    '📊',
    '📋',
    '📌',
    '📍',
    '📎',
    '📏',
    '📐',
    '✂',
    '🔒',
    '🔓',
    '🔏',
    '🔐',
    '🔑',
    '🔨',
    '🔫',
    '🔧',
    '🔩',
    '🔗',
    '💉',
    '💊',
    '🚬',
    '🔮',
    '🚩',
    '🎌',
    '💦',
    '💨'
  ],
  marks: [
    '♠',
    '♥',
    '♦',
    '♣',
    '🀄',
    '🎴',
    '🔇',
    '🔈',
    '🔉',
    '🔊',
    '📢',
    '📣',
    '💤',
    '💢',
    '💬',
    '💭',
    '♨',
    '🌀',
    '🔔',
    '🔕',
    '✡',
    '✝',
    '🔯',
    '📛',
    '🔰',
    '🔱',
    '⭕',
    '✅',
    '☑',
    '✔',
    '✖',
    '❌',
    '❎',
    '➕',
    '➖',
    '➗',
    '➰',
    '➿',
    '〽',
    '✳',
    '✴',
    '❇',
    '‼',
    '⁉',
    '❓',
    '❔',
    '❕',
    '❗',
    '©',
    '®',
    '™',
    '🎦',
    '🔅',
    '🔆',
    '💯',
    '🔠',
    '🔡',
    '🔢',
    '🔣',
    '🔤',
    '🅰',
    '🆎',
    '🅱',
    '🆑',
    '🆒',
    '🆓',
    'ℹ',
    '🆔',
    'Ⓜ',
    '🆕',
    '🆖',
    '🅾',
    '🆗',
    '🅿',
    '🆘',
    '🆙',
    '🆚',
    '🈁',
    '🈂',
    '🈷',
    '🈶',
    '🈯',
    '🉐',
    '🈹',
    '🈚',
    '🈲',
    '🉑',
    '🈸',
    '🈴',
    '🈳',
    '㊗',
    '㊙',
    '🈺',
    '🈵',
    '▪',
    '▫',
    '◻',
    '◼',
    '◽',
    '◾',
    '⬛',
    '⬜',
    '🔶',
    '🔷',
    '🔸',
    '🔹',
    '🔺',
    '🔻',
    '💠',
    '🔲',
    '🔳',
    '⚪',
    '⚫',
    '🔴',
    '🔵'
  ],
  zodiac: ['🐁', '🐂', '🐅', '🐇', '🐉', '🐍', '🐎', '🐐', '🐒', '🐓', '🐕', '🐖'],
  constellation: ['♈', '♉', '♊', '♋', '♌', '♍', '♎', '♏', '♐', '♑', '♒', '♓', '⛎'],
  timepiece: [
    '🕛',
    '🕧',
    '🕐',
    '🕜',
    '🕑',
    '🕝',
    '🕒',
    '🕞',
    '🕓',
    '🕟',
    '🕔',
    '🕠',
    '🕕',
    '🕡',
    '🕖',
    '🕢',
    '🕗',
    '🕣',
    '🕘',
    '🕤',
    '🕙',
    '🕥',
    '🕚',
    '🕦',
    '⌛',
    '⏳',
    '⌚',
    '⏰',
    '⏱',
    '⏲',
    '🕰'
  ],
  heartShaped: [
    '💘',
    '❤',
    '💓',
    '💔',
    '💕',
    '💖',
    '💗',
    '💙',
    '💚',
    '💛',
    '💜',
    '💝',
    '💞',
    '💟',
    '❣'
  ],
  flowers: ['💐', '🌸', '💮', '🌹', '🌺', '🌻', '🌼', '🌷', '🌱', '🌿', '🍀'],
  leaf: ['🌿', '🍀', '🍁', '🍂', '🍃'],
  moon: ['🌑', '🌒', '🌓', '🌔', '🌕', '🌖', '🌗', '🌘', '🌙', '🌚', '🌛', '🌜', '🌝'],
  fruits: ['🍇', '🍈', '🍉', '🍊', '🍋', '🍌', '🍍', '🍎', '🍏', '🍐', '🍑', '🍒', '🍓'],
  coin: ['💴', '💵', '💶', '💷', '💰', '💸', '💳'],
  traffic: [
    '🚂',
    '🚃',
    '🚄',
    '🚅',
    '🚆',
    '🚇',
    '🚈',
    '🚉',
    '🚊',
    '🚝',
    '🚞',
    '🚋',
    '🚌',
    '🚍',
    '🚎',
    '🚏',
    '🚐',
    '🚑',
    '🚒',
    '🚓',
    '🚔',
    '🚕',
    '🚖',
    '🚗',
    '🚘',
    '🚚',
    '🚛',
    '🚜',
    '🚲',
    '⛽',
    '🚨',
    '🚥',
    '🚦',
    '🚧',
    '⚓',
    '⛵',
    '🚣',
    '🚤',
    '🚢',
    '✈',
    '💺',
    '🚁',
    '🚟',
    '🚠',
    '🚡',
    '🚀'
  ],
  architecture: [
    '🏠',
    '🏡',
    '🏢',
    '🏣',
    '🏤',
    '🏥',
    '🏦',
    '🏨',
    '🏩',
    '🏪',
    '🏫',
    '🏬',
    '🏭',
    '🏯',
    '🏰',
    '💒',
    '🗼',
    '🗽',
    '⛪',
    '🌆',
    '🌇',
    '🌉'
  ],
  office: [
    '📱',
    '📲',
    '☎',
    '📞',
    '📟',
    '📠',
    '🔋',
    '🔌',
    '💻',
    '💽',
    '💾',
    '💿',
    '📀',
    '🎥',
    '📺',
    '📷',
    '📹',
    '📼',
    '🔍',
    '🔎',
    '🔬',
    '🔭',
    '📡',
    '📔',
    '📕',
    '📖',
    '📗',
    '📘',
    '📙',
    '📚',
    '📓',
    '📃',
    '📜',
    '📄',
    '📰',
    '📑',
    '🔖',
    '💳',
    '✉',
    '📧',
    '📨',
    '📩',
    '📤',
    '📥',
    '📦',
    '📫',
    '📪',
    '📬',
    '📭',
    '📮',
    '✏',
    '✒',
    '📝',
    '📁',
    '📂',
    '📅',
    '📆',
    '📇',
    '📈',
    '📉',
    '📊',
    '📋',
    '📌',
    '📍',
    '📎',
    '📏',
    '📐',
    '✂',
    '🔒',
    '🔓',
    '🔏',
    '🔐',
    '🔑'
  ],
  arrow: [
    '⬆',
    '↗',
    '➡',
    '↘',
    '⬇',
    '↙',
    '⬅',
    '↖',
    '↕',
    '↔',
    '↩',
    '↪',
    '⤴',
    '⤵',
    '🔃',
    '🔄',
    '🔙',
    '🔚',
    '🔛',
    '🔜',
    '🔝'
  ]
}

const emojiLabels = {
  expression: 'emoji表情',
  people: 'emoji人物',
  gesture: 'emoji手势',
  daily: 'emoji日常',
  phone: 'emoji手机',
  common: 'emoji公共',
  animal: 'emoji动物',
  plant: 'emoji植物',
  nature: 'emoji自然',
  food: 'emoji饮食',
  stylistics: 'emoji文体',
  terror: 'emoji恐怖',
  travel: 'emoji旅游',
  goods: 'emoji物品',
  marks: 'emoji标志',
  zodiac: 'emoji生肖',
  constellation: 'emoji星座',
  timepiece: 'emoji钟表',
  heartShaped: 'emoji心形',
  flowers: 'emoji花草',
  leaf: 'emoji树叶',
  moon: 'emoji月亮',
  fruits: 'emoji水果',
  coin: 'emoji钱币',
  traffic: 'emoji交通',
  architecture: 'emoji建筑',
  office: 'emoji办公',
  arrow: 'emoji箭头'
}

const emojiMenuChildrenStyle = {
  width: '400px',
  fontSize: '15pt',
  display: 'flex',
  flexDirection: 'row',
  flexWrap: 'wrap',
  alignItems: 'center'
}

const emojiMenuChildrenButtonStyle = {
  border: 'none',
  backgroundColor: 'transparent',
  fontSize: '20pt',
  width: '40px',
  height: '40px'
}

// 创建一个函数来生成表情按钮的列表
function createEmojiButtons(
  emojiCategory: string,
  emojiStyle: Record<string, string>,
  buttonStyle: Record<string, string>
) {
  return h(
    'div',
    { style: emojiStyle },
    emojis[emojiCategory].map((text: string) => {
      return h(
        'button',
        {
          style: buttonStyle,
          onClick: () => {
            EventBus.$emit('monaco-editor-insert-text', text)
          }
        },
        text
      )
    })
  )
}

const emojiContextMenus = Object.keys(emojis).map((emojiCategory) => {
  return {
    label: emojiLabels[emojiCategory], // 根据类别设置标签
    direction: 'br',
    children: [
      {
        label: createEmojiButtons(
          emojiCategory,
          emojiMenuChildrenStyle,
          emojiMenuChildrenButtonStyle
        )
      }
    ]
  }
})

export function handleEmojiContextMenu(e: MouseEvent) {
  ContextMenu.showContextMenu({
    x: e.x,
    y: e.y,
    items: emojiContextMenus as MenuItem[]
  })
}
